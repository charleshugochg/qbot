{% extends "mainapp/base_with_nav.html" %}
{% load static%}

{% block title %}
    Queue App
{% endblock %}

{% block pagehead %}
    Shop Detail
{% endblock %}

{% block toggleicon %}
  <a href="{% url 'index' %}"><i class="ion-ios-home custom-icon"></i></a>
{% endblock %}

{% block backlink %}
    <a href="{% url ret %}"><i class="ion-ios-arrow-left back-btn"></i></a>
{% endblock %}

{% block options %}

{% endblock %}

{% block body %}
    <div class="container-custom no-gutters">
        <div class="shop-container">
              <img src="{{ MEDIA_URL }}{{ shop.logo.name }}" alt="Shop logo">
              <div class="shop-detail-text">
                  <a class="link-header" href="{% url 'shop' shop.id %}"><h4>{{shop.name}}</h4></a>
                  <p><span class="outer-span">Type: </span><span class="inner-span">{{shop.shop_type}}</span></p>
                  <p><span class="outer-span">Capacity: </span><span class="inner-span">{{shop.capacity}}</span></p>
                  <p><span class="outer-span">Phone: </span><span class="inner-span">{{shop.phone_number}}</span></p>
                  <p><span class="outer-span">Address: </span><span class="inner-span">{{shop.address}}</span></p>
              </div>
        </div>

        <div class="shop-container back-grey">
          <div class="row">
            <div class="quebook-info col-sm-6">
              <h2>Queue information</h2>
              <div class="row no-gutters">
                <p class="counter-text">{{ in_serving }}</p>
                <p class="counter-info">People in shop</p>
              </div>
              <div class="row no-gutters">
                <p class="counter-text">{{ in_queue }}</p>
                <p class="counter-info">People in queue</p>
              </div>
              {% if user.username %}
              <div class="row">
                <button type="button" class="btn btn-outline-secondary" disabled>login with user account to join</button>
              </div>
              {% elif status %}
              <div class="row">
                <button type="button" class="btn btn-outline-secondary" disabled>You already joined</button>
              </div>
              {% else %}
                <a href="{% url 'queue' shop.id %}" class="join-btn">Join</a>
              {% endif %}
            </div>

            <div class="quebook-info col-sm-6 no-gutters">
              <h2>Booking Times</h2>

              <form>
                <div class="row booking-row">
                    <select class="custom-select book-select" multiple>
                      <option selected>Select the booking time</option>
                      <option value="1">12:00PM</option>
                      <option value="2">12:30PM</option>
                      <option value="3">1:00PM</option>
                    </select>
                </div>
                {% if user.username %}
                <h2>&nbsp;</h2>
                {% else %}
                  <a href="#" class="book-btn">Book</a>
                {% endif %}

              </form>
                
              </div>
            </div>
          </div>
        </div>
    </div>

{% endblock %}
